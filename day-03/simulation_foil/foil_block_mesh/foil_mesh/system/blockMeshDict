/*--------------------------------*- C++ -*----------------------------------*\
  =========                 |
  \\      /  F ield         | OpenFOAM: The Open Source CFD Toolbox
   \\    /   O peration     | Website:  https://openfoam.org
    \\  /    A nd           | Version:  11
     \\/     M anipulation  |
\*---------------------------------------------------------------------------*/
FoamFile
{
    format      ascii;
    class       dictionary;
    object      blockMeshDict;
}
// * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * //

convertToMeters	1;

dh 0.1;      // domain height

// Boundary layer mesh coefficients
blDirection
{
	// number of cells
	N 80;
	// edge multiple grading scenario
	sBL1C 10; sBL1N 60; sBL1R 10;
	sBL2C 50; sBL2N 30; sBL2R 10;
	sBL3C 40; sBL3N 10; sBL3R 1;
	// edge grading line
	edge ( ($sBL1C $sBL1N $sBL1R) ($sBL2C $sBL2N $sBL2R) ($sBL3C $sBL3N $sBL3R) );

}

// Foil profile geometry and inlet arc meshing
foil
{
	N 40; // number of cells on uppor/lower foil part
	S 25; // grading factor
}

// Inlet arc/boundary meshing
inlet
{
	// N is equal to foil part
	S 0.01; // grading factor
}

// back domain part meshing
back
{
	N 60; // number of cells
	S 10; // grading factor
}

// Foil profile is always horizontal where nose is at (0,0) and tail is at (1,0)
vertices
(
	( 0	0	0 ) //	0 - Profile Nose point
	( 1	0	0 ) //	1 - Profile Tail point
	( 1	12	0 ) //	2
	( -11	0	0 ) //	3
	( 0	0	$dh	) //	4
	( 1	0	$dh	) //	5
	( 1	12	$dh ) //	6
	( -11	0	$dh ) //	7
	( 21	1.83726 0 ) //	8
	( 21	12	0 ) //	9
	( 21	1.83726	$dh ) //	10
	( 21	12	$dh ) //	11
	( 1	-12	0 ) //	12
	( 1	-12	$dh ) //	13
	( 21	-12	0 ) //	14
	( 21	-12	$dh ) //	15
	( 1	0	0 ) //	16
	( 1	0	$dh ) //	17
);

blocks
(
	// block 0
	hex	(0 1 2 3 4 5 6 7)
	($foil/N $blDirection/N 1)
	edgeGrading (
		// direction 1
		$foil/S $inlet/S $inlet/S $foil/S // direction 1
		// direction 2
		$blDirection/edge
		$blDirection/edge
		$blDirection/edge
		$blDirection/edge
		//direction 3
		1 1 1 1
	)

	// block 1
	hex	(4 17 13 7 0 16 12 3)
	($foil/N $blDirection/N  1)
	edgeGrading (
		// direction 1
		$foil/S $inlet/S $inlet/S $foil/S // direction 1
		// direction 2
		$blDirection/edge
		$blDirection/edge
		$blDirection/edge
		$blDirection/edge
		//direction 3
		1 1 1 1                      // direction 3
	)

	// block 2
	hex	(1 8 9 2 5 10 11 6)
	($back/N $blDirection/N 1)
	simpleGrading (
		$back/S
		$blDirection/edge
		1
	)

	// block 3
	hex	(17 10 15 13 16 8 14 12)
	($back/N $blDirection/N 1)
	simpleGrading (
		$back/S
		$blDirection/edge
		1
	)
);

edges
(
	arc 3 2	( -7.48528137423857	8.48528137423857 0 )
	arc	7 6 ( -7.48528137423857	8.48528137423857 $dh )

	spline 1 0
	(
		(0.95042 0.00668 0)
		(0.90327 0.01172 0)
		(0.85845 0.01627 0)
		(0.81584 0.02038 0)
		(0.77532 0.02410 0)
		(0.73680 0.02747 0)
		(0.70018 0.03052 0)
		(0.66536 0.03327 0)
		(0.63226 0.03575 0)
		(0.60079 0.03797 0)
		(0.57086 0.03996 0)
		(0.54241 0.04173 0)
		(0.51536 0.04329 0)
		(0.48965 0.04465 0)
		(0.46520 0.04583 0)
		(0.44195 0.04684 0)
		(0.41985 0.04769 0)
		(0.39884 0.04839 0)
		(0.37886 0.04896 0)
		(0.35987 0.04939 0)
		(0.34181 0.04970 0)
		(0.32464 0.04990 0)
		(0.30832 0.05000 0)
		(0.29280 0.05000 0)
		(0.27805 0.04992 0)
		(0.26402 0.04976 0)
		(0.25068 0.04952 0)
		(0.23800 0.04922 0)
		(0.22594 0.04886 0)
		(0.21448 0.04845 0)
		(0.20358 0.04798 0)
		(0.19322 0.04747 0)
		(0.18337 0.04692 0)
		(0.17401 0.04634 0)
		(0.16510 0.04573 0)
		(0.15664 0.04509 0)
		(0.14859 0.04442 0)
		(0.14094 0.04374 0)
		(0.13366 0.04303 0)
		(0.12674 0.04232 0)
		(0.12017 0.04159 0)
		(0.11392 0.04085 0)
		(0.10797 0.04010 0)
		(0.10232 0.03935 0)
		(0.09695 0.03859 0)
		(0.09184 0.03783 0)
		(0.08698 0.03706 0)
		(0.08236 0.03630 0)
		(0.07797 0.03554 0)
		(0.07380 0.03478 0)
		(0.06983 0.03402 0)
		(0.06606 0.03326 0)
		(0.06247 0.03252 0)
		(0.05906 0.03177 0)
		(0.05581 0.03103 0)
		(0.05273 0.03030 0)
		(0.04980 0.02957 0)
		(0.04701 0.02885 0)
		(0.04436 0.02814 0)
		(0.04185 0.02743 0)
		(0.03945 0.02673 0)
		(0.03717 0.02604 0)
		(0.03501 0.02536 0)
		(0.03295 0.02469 0)
		(0.03099 0.02402 0)
		(0.02913 0.02336 0)
		(0.02736 0.02270 0)
		(0.02568 0.02206 0)
		(0.02408 0.02142 0)
		(0.02256 0.02079 0)
		(0.02112 0.02016 0)
		(0.01974 0.01955 0)
		(0.01844 0.01894 0)
		(0.01719 0.01833 0)
		(0.01601 0.01773 0)
		(0.01489 0.01714 0)
		(0.01382 0.01655 0)
		(0.01281 0.01597 0)
		(0.01184 0.01538 0)
		(0.01093 0.01481 0)
		(0.01005 0.01423 0)
		(0.00922 0.01366 0)
		(0.00844 0.01309 0)
		(0.00769 0.01252 0)
		(0.00697 0.01195 0)
		(0.00630 0.01138 0)
		(0.00565 0.01080 0)
		(0.00504 0.01022 0)
		(0.00446 0.00963 0)
		(0.00390 0.00903 0)
		(0.00338 0.00841 0)
		(0.00288 0.00778 0)
		(0.00240 0.00712 0)
		(0.00195 0.00643 0)
		(0.00152 0.00569 0)
		(0.00111 0.00488 0)
		(0.00072 0.00394 0)
		(0.00035 0.00276 0)

	)

	spline 5 4
	(
		(0.95042 0.00668 $dh)
		(0.90327 0.01172 $dh)
		(0.85845 0.01627 $dh)
		(0.81584 0.02038 $dh)
		(0.77532 0.02410 $dh)
		(0.73680 0.02747 $dh)
		(0.70018 0.03052 $dh)
		(0.66536 0.03327 $dh)
		(0.63226 0.03575 $dh)
		(0.60079 0.03797 $dh)
		(0.57086 0.03996 $dh)
		(0.54241 0.04173 $dh)
		(0.51536 0.04329 $dh)
		(0.48965 0.04465 $dh)
		(0.46520 0.04583 $dh)
		(0.44195 0.04684 $dh)
		(0.41985 0.04769 $dh)
		(0.39884 0.04839 $dh)
		(0.37886 0.04896 $dh)
		(0.35987 0.04939 $dh)
		(0.34181 0.04970 $dh)
		(0.32464 0.04990 $dh)
		(0.30832 0.05000 $dh)
		(0.29280 0.05000 $dh)
		(0.27805 0.04992 $dh)
		(0.26402 0.04976 $dh)
		(0.25068 0.04952 $dh)
		(0.23800 0.04922 $dh)
		(0.22594 0.04886 $dh)
		(0.21448 0.04845 $dh)
		(0.20358 0.04798 $dh)
		(0.19322 0.04747 $dh)
		(0.18337 0.04692 $dh)
		(0.17401 0.04634 $dh)
		(0.16510 0.04573 $dh)
		(0.15664 0.04509 $dh)
		(0.14859 0.04442 $dh)
		(0.14094 0.04374 $dh)
		(0.13366 0.04303 $dh)
		(0.12674 0.04232 $dh)
		(0.12017 0.04159 $dh)
		(0.11392 0.04085 $dh)
		(0.10797 0.04010 $dh)
		(0.10232 0.03935 $dh)
		(0.09695 0.03859 $dh)
		(0.09184 0.03783 $dh)
		(0.08698 0.03706 $dh)
		(0.08236 0.03630 $dh)
		(0.07797 0.03554 $dh)
		(0.07380 0.03478 $dh)
		(0.06983 0.03402 $dh)
		(0.06606 0.03326 $dh)
		(0.06247 0.03252 $dh)
		(0.05906 0.03177 $dh)
		(0.05581 0.03103 $dh)
		(0.05273 0.03030 $dh)
		(0.04980 0.02957 $dh)
		(0.04701 0.02885 $dh)
		(0.04436 0.02814 $dh)
		(0.04185 0.02743 $dh)
		(0.03945 0.02673 $dh)
		(0.03717 0.02604 $dh)
		(0.03501 0.02536 $dh)
		(0.03295 0.02469 $dh)
		(0.03099 0.02402 $dh)
		(0.02913 0.02336 $dh)
		(0.02736 0.02270 $dh)
		(0.02568 0.02206 $dh)
		(0.02408 0.02142 $dh)
		(0.02256 0.02079 $dh)
		(0.02112 0.02016 $dh)
		(0.01974 0.01955 $dh)
		(0.01844 0.01894 $dh)
		(0.01719 0.01833 $dh)
		(0.01601 0.01773 $dh)
		(0.01489 0.01714 $dh)
		(0.01382 0.01655 $dh)
		(0.01281 0.01597 $dh)
		(0.01184 0.01538 $dh)
		(0.01093 0.01481 $dh)
		(0.01005 0.01423 $dh)
		(0.00922 0.01366 $dh)
		(0.00844 0.01309 $dh)
		(0.00769 0.01252 $dh)
		(0.00697 0.01195 $dh)
		(0.00630 0.01138 $dh)
		(0.00565 0.01080 $dh)
		(0.00504 0.01022 $dh)
		(0.00446 0.00963 $dh)
		(0.00390 0.00903 $dh)
		(0.00338 0.00841 $dh)
		(0.00288 0.00778 $dh)
		(0.00240 0.00712 $dh)
		(0.00195 0.00643 $dh)
		(0.00152 0.00569 $dh)
		(0.00111 0.00488 $dh)
		(0.00072 0.00394 $dh)
		(0.00035 0.00276 $dh)

	)

	arc	3 12 ( -7.48528137423857 -8.48528137423857 0 )
	arc	7 13 ( -7.48528137423857 -8.48528137423857 $dh )

	spline 0 16
	(
		(0.00035 -0.00276 0)
		(0.00072 -0.00394 0)
		(0.00111 -0.00488 0)
		(0.00152 -0.00569 0)
		(0.00195 -0.00643 0)
		(0.00240 -0.00712 0)
		(0.00288 -0.00778 0)
		(0.00338 -0.00841 0)
		(0.00390 -0.00903 0)
		(0.00446 -0.00963 0)
		(0.00504 -0.01022 0)
		(0.00565 -0.01080 0)
		(0.00630 -0.01138 0)
		(0.00697 -0.01195 0)
		(0.00769 -0.01252 0)
		(0.00844 -0.01309 0)
		(0.00922 -0.01366 0)
		(0.01005 -0.01423 0)
		(0.01093 -0.01481 0)
		(0.01184 -0.01538 0)
		(0.01281 -0.01597 0)
		(0.01382 -0.01655 0)
		(0.01489 -0.01714 0)
		(0.01601 -0.01773 0)
		(0.01719 -0.01833 0)
		(0.01844 -0.01894 0)
		(0.01974 -0.01955 0)
		(0.02112 -0.02016 0)
		(0.02256 -0.02079 0)
		(0.02408 -0.02142 0)
		(0.02568 -0.02206 0)
		(0.02736 -0.02270 0)
		(0.02913 -0.02336 0)
		(0.03099 -0.02402 0)
		(0.03295 -0.02469 0)
		(0.03501 -0.02536 0)
		(0.03717 -0.02604 0)
		(0.03945 -0.02673 0)
		(0.04185 -0.02743 0)
		(0.04436 -0.02814 0)
		(0.04701 -0.02885 0)
		(0.04980 -0.02957 0)
		(0.05273 -0.03030 0)
		(0.05581 -0.03103 0)
		(0.05906 -0.03177 0)
		(0.06247 -0.03252 0)
		(0.06606 -0.03326 0)
		(0.06983 -0.03402 0)
		(0.07380 -0.03478 0)
		(0.07797 -0.03554 0)
		(0.08236 -0.03630 0)
		(0.08698 -0.03706 0)
		(0.09184 -0.03783 0)
		(0.09695 -0.03859 0)
		(0.10232 -0.03935 0)
		(0.10797 -0.04010 0)
		(0.11392 -0.04085 0)
		(0.12017 -0.04159 0)
		(0.12674 -0.04232 0)
		(0.13366 -0.04303 0)
		(0.14094 -0.04374 0)
		(0.14859 -0.04442 0)
		(0.15664 -0.04509 0)
		(0.16510 -0.04573 0)
		(0.17401 -0.04634 0)
		(0.18337 -0.04692 0)
		(0.19322 -0.04747 0)
		(0.20358 -0.04798 0)
		(0.21448 -0.04845 0)
		(0.22594 -0.04886 0)
		(0.23800 -0.04922 0)
		(0.25068 -0.04952 0)
		(0.26402 -0.04976 0)
		(0.27805 -0.04992 0)
		(0.29280 -0.05000 0)
		(0.30832 -0.05000 0)
		(0.32464 -0.04990 0)
		(0.34181 -0.04970 0)
		(0.35987 -0.04939 0)
		(0.37886 -0.04896 0)
		(0.39884 -0.04839 0)
		(0.41985 -0.04769 0)
		(0.44195 -0.04684 0)
		(0.46520 -0.04583 0)
		(0.48965 -0.04465 0)
		(0.51536 -0.04329 0)
		(0.54241 -0.04173 0)
		(0.57086 -0.03996 0)
		(0.60079 -0.03797 0)
		(0.63226 -0.03575 0)
		(0.66536 -0.03327 0)
		(0.70018 -0.03052 0)
		(0.73680 -0.02747 0)
		(0.77532 -0.02410 0)
		(0.81584 -0.02038 0)
		(0.85845 -0.01627 0)
		(0.90327 -0.01172 0)
		(0.95042 -0.00668 0)

	)

	spline 4 17
	(
		(0.00035 -0.00276 $dh)
		(0.00072 -0.00394 $dh)
		(0.00111 -0.00488 $dh)
		(0.00152 -0.00569 $dh)
		(0.00195 -0.00643 $dh)
		(0.00240 -0.00712 $dh)
		(0.00288 -0.00778 $dh)
		(0.00338 -0.00841 $dh)
		(0.00390 -0.00903 $dh)
		(0.00446 -0.00963 $dh)
		(0.00504 -0.01022 $dh)
		(0.00565 -0.01080 $dh)
		(0.00630 -0.01138 $dh)
		(0.00697 -0.01195 $dh)
		(0.00769 -0.01252 $dh)
		(0.00844 -0.01309 $dh)
		(0.00922 -0.01366 $dh)
		(0.01005 -0.01423 $dh)
		(0.01093 -0.01481 $dh)
		(0.01184 -0.01538 $dh)
		(0.01281 -0.01597 $dh)
		(0.01382 -0.01655 $dh)
		(0.01489 -0.01714 $dh)
		(0.01601 -0.01773 $dh)
		(0.01719 -0.01833 $dh)
		(0.01844 -0.01894 $dh)
		(0.01974 -0.01955 $dh)
		(0.02112 -0.02016 $dh)
		(0.02256 -0.02079 $dh)
		(0.02408 -0.02142 $dh)
		(0.02568 -0.02206 $dh)
		(0.02736 -0.02270 $dh)
		(0.02913 -0.02336 $dh)
		(0.03099 -0.02402 $dh)
		(0.03295 -0.02469 $dh)
		(0.03501 -0.02536 $dh)
		(0.03717 -0.02604 $dh)
		(0.03945 -0.02673 $dh)
		(0.04185 -0.02743 $dh)
		(0.04436 -0.02814 $dh)
		(0.04701 -0.02885 $dh)
		(0.04980 -0.02957 $dh)
		(0.05273 -0.03030 $dh)
		(0.05581 -0.03103 $dh)
		(0.05906 -0.03177 $dh)
		(0.06247 -0.03252 $dh)
		(0.06606 -0.03326 $dh)
		(0.06983 -0.03402 $dh)
		(0.07380 -0.03478 $dh)
		(0.07797 -0.03554 $dh)
		(0.08236 -0.03630 $dh)
		(0.08698 -0.03706 $dh)
		(0.09184 -0.03783 $dh)
		(0.09695 -0.03859 $dh)
		(0.10232 -0.03935 $dh)
		(0.10797 -0.04010 $dh)
		(0.11392 -0.04085 $dh)
		(0.12017 -0.04159 $dh)
		(0.12674 -0.04232 $dh)
		(0.13366 -0.04303 $dh)
		(0.14094 -0.04374 $dh)
		(0.14859 -0.04442 $dh)
		(0.15664 -0.04509 $dh)
		(0.16510 -0.04573 $dh)
		(0.17401 -0.04634 $dh)
		(0.18337 -0.04692 $dh)
		(0.19322 -0.04747 $dh)
		(0.20358 -0.04798 $dh)
		(0.21448 -0.04845 $dh)
		(0.22594 -0.04886 $dh)
		(0.23800 -0.04922 $dh)
		(0.25068 -0.04952 $dh)
		(0.26402 -0.04976 $dh)
		(0.27805 -0.04992 $dh)
		(0.29280 -0.05000 $dh)
		(0.30832 -0.05000 $dh)
		(0.32464 -0.04990 $dh)
		(0.34181 -0.04970 $dh)
		(0.35987 -0.04939 $dh)
		(0.37886 -0.04896 $dh)
		(0.39884 -0.04839 $dh)
		(0.41985 -0.04769 $dh)
		(0.44195 -0.04684 $dh)
		(0.46520 -0.04583 $dh)
		(0.48965 -0.04465 $dh)
		(0.51536 -0.04329 $dh)
		(0.54241 -0.04173 $dh)
		(0.57086 -0.03996 $dh)
		(0.60079 -0.03797 $dh)
		(0.63226 -0.03575 $dh)
		(0.66536 -0.03327 $dh)
		(0.70018 -0.03052 $dh)
		(0.73680 -0.02747 $dh)
		(0.77532 -0.02410 $dh)
		(0.81584 -0.02038 $dh)
		(0.85845 -0.01627 $dh)
		(0.90327 -0.01172 $dh)
		(0.95042 -0.00668 $dh)

	)
);

defaultPatch
{
	name frontAndBack;
    type empty;
}

boundary
(
	inlet
	{
		type patch;    // patch type for patch 0
		faces
		(
			( 2  3  7  6)
			( 3 12 13  7)
			(12 15 14 13)
		);
	}

	outlet
	{
		type patch;
		faces
		(
			( 9  2  6 11)
			( 8 9 10 11)
			(15 8 10 14)
		);
	}

	foil
	{
		type wall;
		faces
		(
			(0 1  5  4)
			(0 4 17 16)
		);
	}

	interface1
	{
		type patch;    // patch type for patch 0
		faces
		(
			(1 8 10 5)  // block face in this patch
		);
	}

	interface2
	{
		type patch;
		faces
		(
			(16 17 10 8)
		);
	}
);

// to have a single interface due to double vertex 1/5 and 16/17
mergePatchPairs
(
    ( interface1 interface2 )
);
// ************************************************************************* //